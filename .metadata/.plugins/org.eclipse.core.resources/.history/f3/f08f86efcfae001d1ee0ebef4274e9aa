package ApiVerification;

import org.json.JSONArray;
import org.json.JSONObject;
import org.junit.Assert;

import io.restassured.response.Response;

public class ApiVerification {

	public static void responseCodeValiddation(Response response, int statusCode) {
		Assert.assertEquals(statusCode, response.getStatusCode());
		
//		try {
//			
//		} catch (AssertionError e) {
//			e.printStackTrace();
//		} catch (Exception e) {
//			e.printStackTrace();
//		}
	}
	
	public static void responseKeyValidationFromJsonObject(Response response, String key) {
		try {
			JSONObject json = new JSONObject(response.getBody().asString());
			Assert.assertTrue(json.has(key) && json.get(key)!= null);
			
		} catch (Throwable t) {
			t.printStackTrace();
		}
	}
	
	public static void responseKeyValidationfromArray(Response response, String key) {
		try {
			JSONArray array = new JSONArray(response.getBody().asString());
			for(int i=0; i<array.length();i++) {
				JSONObject obj = array.getJSONObject(i);
				Assert.assertTrue(obj.has(key) && obj.get(key)!= null);
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

}
